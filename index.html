<html>
  <head>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">

    // Load the Visualization API and the piechart package.
    google.charts.load('current', {'packages':['gauge']});

    // Set a callback to run when the Google Visualization API is loaded.
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      var jsonData = $.ajax({
          url: "https://dweet.io:443/get/latest/dweet/for/598ac270-82a9-11e8-89db-d3e8e5a7b561",
          dataType: "json",
          type: "GET",
          success:function(data){
            if(data.this == "succeeded"){
              var data = google.visualization.arrayToDataTable({
                ['Label', 'Value'],
                ['Humidity', data.with[0].content.humidity],
                ['Temp', data.with[0].content.temprature]
              });
              var options = {
                  width: 400, height: 120,
                  min: 0, max: 100,
                  redFrom: 90, redTo: 100,
                  yellowFrom:75, yellowTo: 90,
                  minorTicks: 5
              };
              // Instantiate and draw our chart, passing in some options.
              var chart = new google.visualization.Gauge(document.getElementById('chart_div'));
              chart.draw(data, options);
          } else {

          }
        },
          error:function(error){
            console.log("ERROR");
            console.log(error);
        }
      })
    }
    </script>
  </head>
  <body>
    <div id="chart_div" style="width: 400px; height: 120px;"></div>
  </body>
</html>
